######################################################################
# Echo Media Service - Environment Variables
# Standardized for consistency with main .env and docker-compose.yml
######################################################################

# General
ENVIRONMENT=development
APP_ENV=development
LOG_LEVEL=debug
LOG_FORMAT=console
CONFIG_PATH=./configs/config.yaml

# =====================
# Server
# =====================
SERVER_HOST=0.0.0.0
SERVER_PORT=8084
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_SHUTDOWN_TIMEOUT=30s

# =====================
# Database
# =====================
DB_HOST=postgres
DB_PORT=5432
DB_USER=echo
DB_PASSWORD=echo_password
DB_NAME=echo_db
DB_SSL_MODE=disable
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=10
DB_CONN_MAX_LIFETIME=5m

# =====================
# Redis
# =====================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis_password
REDIS_DB=3
REDIS_POOL_SIZE=10
REDIS_MAX_RETRIES=3
CACHE_ENABLED=true
CACHE_TTL=1h

# =====================
# Cloudflare R2 Storage
# =====================
STORAGE_PROVIDER=r2
STORAGE_BUCKET=echo-media
R2_ACCOUNT_ID=316c353b6ef4100545672abc4a0fb640
STORAGE_ACCESS_KEY_ID=2f62295f236b95c0512f8ba31cd3d604
STORAGE_SECRET_ACCESS_KEY=2a89b232fb9bf7ed2d3dd4ddae24dd11a46eceb7fff396496932c6538044ebe7
STORAGE_PUBLIC_URL=https://pub-8f2fc3e8dd87478eb1aa0b3af0558c9c.r2.dev
STORAGE_CDN_BASE_URL=https://cdn.your-domain.com
STORAGE_USE_CDN=false
STORAGE_MAX_FILE_SIZE=104857600
STORAGE_UPLOAD_TIMEOUT=5m
CLOUDFLARE_TOKEN=9irqXM-jluXit5qqXW8OpedFZwuskZfarxMesbbh

SECURITY_MAX_BODY_SIZE=104857600

# =====================
# Image Processing
# =====================
FEATURE_IMAGE_PROCESSING_ENABLED=true
FEATURE_IMAGE_MAX_WIDTH=4096
FEATURE_IMAGE_MAX_HEIGHT=4096
FEATURE_IMAGE_QUALITY=85
FEATURE_IMAGE_AUTO_ORIENT=true
FEATURE_IMAGE_STRIP_METADATA=false

# =====================
# Thumbnails
# =====================
FEATURE_THUMBNAILS_ENABLED=true
FEATURE_THUMBNAIL_SMALL_WIDTH=150
FEATURE_THUMBNAIL_SMALL_HEIGHT=150
FEATURE_THUMBNAIL_MEDIUM_WIDTH=300
FEATURE_THUMBNAIL_MEDIUM_HEIGHT=300
FEATURE_THUMBNAIL_LARGE_WIDTH=600
FEATURE_THUMBNAIL_LARGE_HEIGHT=600
FEATURE_THUMBNAIL_FORMAT=jpeg
FEATURE_THUMBNAIL_QUALITY=85

# =====================
# Video Processing
# =====================
FEATURE_VIDEO_PROCESSING_ENABLED=false
FEATURE_VIDEO_MAX_DURATION=600
FEATURE_VIDEO_TRANSCODING_ENABLED=false

# =====================
# Security Features
# =====================
FEATURE_VIRUS_SCANNING_ENABLED=false
FEATURE_VIRUS_SCANNING_PROVIDER=clamav
FEATURE_VIRUS_SCANNING_ENDPOINT=
FEATURE_VIRUS_SCANNING_API_KEY=

FEATURE_CONTENT_MODERATION_ENABLED=false
FEATURE_CONTENT_MODERATION_PROVIDER=aws-rekognition
FEATURE_CONTENT_MODERATION_ENDPOINT=
FEATURE_CONTENT_MODERATION_API_KEY=
FEATURE_CONTENT_MODERATION_THRESHOLD=0.8

# =====================
# Encryption
# =====================
FEATURE_ENCRYPTION_ENABLED=false
FEATURE_ENCRYPTION_ALGORITHM=AES-256
FEATURE_ENCRYPTION_KEY_ID=

# =====================
# Deduplication
# =====================
FEATURE_DEDUPLICATION_ENABLED=true
FEATURE_DEDUPLICATION_ALGORITHM=sha256

# =====================
# Albums and Stickers
# =====================
FEATURE_ALBUMS_ENABLED=true
FEATURE_ALBUMS_MAX_PER_USER=100
FEATURE_STICKER_PACKS_ENABLED=true
FEATURE_STICKER_PACKS_MAX_STICKERS=100
FEATURE_STICKER_PACKS_MAX_INSTALLED=50

# =====================
# Processing
# =====================
PROCESSING_WORKERS=4
PROCESSING_QUEUE_SIZE=100
PROCESSING_MAX_ATTEMPTS=3
PROCESSING_TIMEOUT=5m

# =====================
# Rate Limiting
# =====================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=1m
RATE_LIMIT_GLOBAL_REQUESTS=1000
RATE_LIMIT_UPLOAD_REQUESTS=20
RATE_LIMIT_DOWNLOAD_REQUESTS=100
RATE_LIMIT_DELETE_REQUESTS=50
RATE_LIMIT_LIST_REQUESTS=50

# =====================
# Metrics
# =====================
METRICS_ENABLED=true
HEALTH_ENABLED=true
