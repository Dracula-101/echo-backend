######################################################################
# Echo Backend - Environment Variables
# Copy this file to `.env` and update values as needed for your environment.
######################################################################

# General
ENVIRONMENT=development

# =====================
# PostgreSQL Database
# =====================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=echo
POSTGRES_PASSWORD=echo_password
POSTGRES_DB=echo_db
POSTGRES_SSL_MODE=disable

# =====================
# Redis
# =====================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis_password
REDIS_DB=0
REDIS_MAX_MEMORY=256mb

# =====================
# Kafka & Zookeeper
# =====================
KAFKA_BROKERS=kafka:9092
KAFKA_EXTERNAL_PORT=9093
KAFKA_ZOOKEEPER=zookeeper:2181

# =====================
# TimescaleDB (Analytics)
# =====================
TIMESCALE_HOST=timescaledb
TIMESCALE_PORT=5433
TIMESCALE_USER=echo_analytics
TIMESCALE_PASSWORD=analytics_password
TIMESCALE_DB=echo_analytics

# =====================
# Meilisearch
# =====================
MEILI_HOST=meilisearch
MEILI_PORT=7700
MEILI_MASTER_KEY=echo_search_key
MEILI_ENV=development

# =====================
# Monitoring
# =====================
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin
GRAFANA_ANONYMOUS=false
GRAFANA_ANONYMOUS_ROLE=Viewer

# =====================
# JWT Configuration
# =====================
# Generate with: openssl rand -base64 64
JWT_SECRET_KEY=change_me_generate_with_openssl_rand_base64_64
JWT_ISSUER=echo-auth-service
JWT_AUDIENCE=echo-users
JWT_ACCESS_TOKEN_TTL=15m
JWT_REFRESH_TOKEN_TTL=168h
JWT_LEEWAY=1m